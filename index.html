<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Cultivate Forecasts API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="getting-started">Getting Started</h1>

<p>Each performer will be assigned a subdomain for use in HFC. Throughout the API documentation, you&rsquo;ll see URL&rsquo;s in the format of <code class="prettyprint">https://yoursite.hfc-staging.com</code>. Once you have your subdomain, you should replace <code class="prettyprint">yoursite</code> with your assigned subdomain. Contact Cultivate Labs at <code class="prettyprint">techsupport@hybridforecasting.com</code> to obtain your assigned subdomain.</p>

<h1 id="environments">Environments</h1>

<h2 id="primary-environments">Primary Environments</h2>

<p>Cultivate Labs will be hosting two primary environments: a staging environment and a production environment. The staging environment should be used during development and testing of your system and the production environment should be used during live forecasting.</p>

<table><thead>
<tr>
<th>Environment</th>
<th>Domain</th>
</tr>
</thead><tbody>
<tr>
<td>Staging</td>
<td>https://yoursite.hfc-staging.com</td>
</tr>
<tr>
<td>Production</td>
<td>https://yoursite.hybridforecasting.com</td>
</tr>
</tbody></table>

<h2 id="te-furnished-data-stream-environments">T&amp;E-furnished Data Stream Environments</h2>

<p>In addition to these two primary environments, the T&amp;E team is providing a stream of <a href="#prediction-sets">individual-level forecasts</a> and <a href="#aggregate-predictions">aggregate &ldquo;crowd&rdquo; forecasts</a> that are derived from two additional environments. During phase 1a, the data streams will be derived from an “HFC Challenge” hosted on the Good Judgment Open (GJO) platform. During phase 1b-4, the same streams will be derived from the benchmark condition The domain used for accessing both of these API’s will be dependent on which source is currently furnishing the data (and is different from the Performer-specific subdomain used for other API’s). During Phase 1a, https://www.gjopen.com should be used as the domain. During Phase 1b-4, https://control.hybridforecasting.com should be used.</p>

<table><thead>
<tr>
<th>Phase</th>
<th>Domain</th>
</tr>
</thead><tbody>
<tr>
<td>Phase 1a</td>
<td>https://www.gjopen.com</td>
</tr>
<tr>
<td>Phase 1b-4</td>
<td>https://control.hybridforecasting.com</td>
</tr>
</tbody></table>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://yoursite.hfc-staging.com/oauth/token"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="nv">grant_type</span><span class="o">=</span>password <span class="se">\</span>
  -d <span class="nv">email</span><span class="o">=</span>user@example.com <span class="se">\</span>
  -d <span class="nv">password</span><span class="o">=</span>password
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1438910165</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To access the Cultivate Forecasts API, you need an oauth token. You can generate one by making a POST request to <code class="prettyprint">/oauth/token</code> with email, password, and grant_type parameters.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://yoursite.hfc-staging.com/oauth/token</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>grant_type</td>
<td>password</td>
</tr>
<tr>
<td>email</td>
<td>Your email address</td>
</tr>
<tr>
<td>password</td>
<td>Your password</td>
</tr>
</tbody></table>

<p>For subsequent requests, you must include your token as part of an authorization header.</p>

          <h1 id="aggregate-predictions">Aggregate Predictions</h1>

<h2 id="aggregate-predictions-list">Aggregate Predictions List</h2>

<p>There are many different methods to combine a set of individual forecasts into a consensus forecast. Within Cultivate Forecasts, the consensus can be calculated using 5 different aggregation algorithms: mean, median, voting, logit, and l2e.  </p>

<p>This endpoint provides a set of current consensus values for each question &amp; potential answer using each of the 5 aggregation algorithms.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://yoursite.hfc-staging.com/aggregation/api/v1/questions"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"questions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"question-name-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"strategies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mean"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedMean"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Median"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedMedian"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Voting"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.333333</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedVoting"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.333333</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Logit"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.040042</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2e"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.801018</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">119</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"strategies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mean"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.333333</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedMean"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.333333</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Median"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedMedian"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Voting"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.333333</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedVoting"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.333333</span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Logit"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.956466</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2e"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.633632</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">118</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-1"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"strategies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mean"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.366667</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedMean"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.366667</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Median"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedMedian"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Voting"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.333333</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WeightedVoting"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.333333</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Logit"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2e"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.717251</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://yoursite.hfc-staging.com/aggregation/api/v1/questions</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>0</td>
<td>Pagination page number</td>
</tr>
</tbody></table>

<h3 id="attribute-descriptions">Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>questions.id</td>
<td>integer</td>
<td>The id of the question these consensus values are associated with</td>
</tr>
<tr>
<td>questions.name</td>
<td>string</td>
<td>The name of the question these consensus values are associated with</td>
</tr>
<tr>
<td>questions.answers.id</td>
<td>integer</td>
<td>The id of the answer these consensus values are associated with</td>
</tr>
<tr>
<td>questions.answers.name</td>
<td>string</td>
<td>The name of the answer these consensus values are associated with</td>
</tr>
<tr>
<td>questions.answers.strategies</td>
<td>array</td>
<td>An array of method/value pairs for the various consensus values</td>
</tr>
<tr>
<td>questions.answers.strategies.method</td>
<td>string</td>
<td>The name of the method used to compute this consensus value</td>
</tr>
<tr>
<td>questions.answers.strategies.value</td>
<td>float</td>
<td>The current consensus value for this method</td>
</tr>
</tbody></table>

          <h1 id="push-apis">Push APIs</h1>

<p>Cultivate Forecasts provides push-based APIs for <a href="#questions">question</a> creation, update, resolution, and <a href="#clarifications">clarification</a>.</p>

<p>For each of these APIs, Cultivate Forecasts will make an HTTP POST request to a URL that you specify. The body of the request will contain JSON matching that from the API documentation for each of those models (e.g. a question creation post-hook will contain the question JSON shown <a href="#questions">here</a>).</p>

<p>To set up a post-hook for any of these APIs, contact Cultivate Labs&rsquo; technical support team: <a href="mailto:tech@cultivatelabs.com">tech@cultivatelabs.com</a></p>

          <h1 id="clarifications">Clarifications</h1>

<h2 id="clarifications-list">Clarifications List</h2>

<p>This API returns a list of question clarifications. These are used to officially clarify questions about a question and its resolution criteria.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://yoursite.hfc-staging.com/api/v1/clarifications"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"clarifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
      </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clarification-content-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T22:22:52.724Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-27T22:22:52.734Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
      </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clarification-content-3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-26T22:22:52.736Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-27T22:22:52.744Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://yoursite.hfc-staging.com/api/v1/clarifications</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>0</td>
<td>Pagination page number</td>
</tr>
</tbody></table>

<h3 id="attribute-descriptions">Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the clarification</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The id of the question that is being clarified</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>The actual text of the clarification</td>
</tr>
</tbody></table>

          <h1 id="external-predictions">External Predictions</h1>

<h2 id="external-predictions-creation">External Predictions Creation</h2>

<p>This API is for submitting forecasts generated outside of Cultivate Forecasts, which will then be scored when the question/answer resolves.</p>

<p>Each submission is known as an <code class="prettyprint">ExternalPredictionSet</code> and each prediction set contains 1 or more predictions. If a question has 3 possible answers, then a prediction set for that question should contain 3 predictions. If a question is a binary question (ie. a Yes/No question), then the prediction set should have a single prediction (and the opposing value is automatically calculated). Other than binary questions, all predictions in a prediction set should sum to 1.0 (ie. in a 3-option question, answer a: 0.2, answer b: 0.3, answer c: 0.5).</p>

<p>Each prediction set should also contain information about the method used to generate it. Each method is tracked by the platform with a model known as an <code class="prettyprint">ExternalPredictor</code>. You must embed the name of your external predictor within the forecast submission, via the <code class="prettyprint">external_predictor_attributes.method_name</code> attribute.</p>

<p>Submissions should also contain a <code class="prettyprint">metadata</code> field. This string should contain JSON-formatted information about how the forecast was generated and any associated parameters that were used to generate it.</p>

<p>Only administrators can access this API.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://yoursite.hfc-staging.com/api/v1/external_prediction_sets"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">external_prediction_set</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">question_id</span><span class="se">\"</span><span class="s2">:123,</span><span class="se">\"</span><span class="s2">metadata</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">{'foo': 'bar', 'count': 2}</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">external_predictor_attributes</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">method_name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">red</span><span class="se">\"</span><span class="s2">},</span><span class="se">\"</span><span class="s2">external_predictions_attributes</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:0.65,</span><span class="se">\"</span><span class="s2">answer_id</span><span class="se">\"</span><span class="s2">:431},{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:0.34,</span><span class="se">\"</span><span class="s2">answer_id</span><span class="se">\"</span><span class="s2">:432}]}}"</span>
</code></pre>
<blockquote>
<p>Request body example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"external_prediction_set"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{'foo': 'bar', 'count': 2}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"external_predictor_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"external_predictions_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.65</span><span class="p">,</span><span class="w">
        </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">431</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.092Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.092Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"forecast_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"external_predictions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">431</span><span class="p">,</span><span class="w">
      </span><span class="s2">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.113Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.113Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.65</span><span class="p">,</span><span class="w">
      </span><span class="s2">"forecast_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
      </span><span class="s2">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"method_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.126Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04.126Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
      </span><span class="s2">"forecast_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-15T21:07:04Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://yoursite.hfc-staging.com/api/v1/external_predictions</code></p>

<h3 id="external-prediction-set-parameters">External Prediction Set Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>question_id</td>
<td>Yes</td>
<td>The question id associated with this forecast</td>
</tr>
<tr>
<td>metadata</td>
<td>Yes</td>
<td>A JSON-formatted string containing metadata describing how this forecast was generated.</td>
</tr>
<tr>
<td>external_predictor_attributes.method_name</td>
<td>Yes</td>
<td>A string identifying the method you&rsquo;re using to generate this forecast. Can be any string.</td>
</tr>
<tr>
<td>external_predictions_attributes</td>
<td>Yes</td>
<td>An array of external prediction objects that are part of this prediction set. Valid parameters for external predictions are listed below.</td>
</tr>
</tbody></table>

<h3 id="external-prediction-parameters">External Prediction Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>answer_id</td>
<td>Yes</td>
<td>The answer id associated with this forecast</td>
</tr>
<tr>
<td>external_predictions_attributes.value</td>
<td>Yes</td>
<td>Contains the value of the forecast. Must be a number between 1 and 0.</td>
</tr>
</tbody></table>

<h3 id="external-prediction-set-response-attribute-descriptions">External Prediction Set Response Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the external prediction</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The question id associated with this forecast</td>
</tr>
<tr>
<td>answer_id</td>
<td>integer</td>
<td>The answer id associated with this forecast</td>
</tr>
<tr>
<td>method_name</td>
<td>string</td>
<td>The name of the <code class="prettyprint">External Predictor</code> method used to generate the forecast</td>
</tr>
<tr>
<td>forecast_at</td>
<td>date</td>
<td>The auto-generated timestamp of when this forecast was submitted. This timestamp is used for scoring forecasts.</td>
</tr>
<tr>
<td>site_id</td>
<td>string</td>
<td>The site id associated with this forecast</td>
</tr>
<tr>
<td>membership_id</td>
<td>string</td>
<td>The id of the membership that submitted this forecast</td>
</tr>
<tr>
<td>external_predictions</td>
<td>array</td>
<td>An array of external prediction objects, which are described below</td>
</tr>
</tbody></table>

<h3 id="external-prediction-response-attribute-descriptions">External Prediction Response Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the external prediction</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The question id associated with this forecast</td>
</tr>
<tr>
<td>answer_id</td>
<td>integer</td>
<td>The answer id associated with this forecast</td>
</tr>
<tr>
<td>method_name</td>
<td>string</td>
<td>The name of the <code class="prettyprint">External Predictor</code> method used to generate the forecast</td>
</tr>
<tr>
<td>forecast_at</td>
<td>date</td>
<td>The auto-generated timestamp of when this forecast was submitted. This timestamp is used for scoring forecasts.</td>
</tr>
<tr>
<td>site_id</td>
<td>string</td>
<td>The site id associated with this forecast</td>
</tr>
<tr>
<td>membership_id</td>
<td>string</td>
<td>The id of the membership that submitted this forecast</td>
</tr>
<tr>
<td>value</td>
<td>float</td>
<td>Contains the forecasted probability</td>
</tr>
</tbody></table>

          <h1 id="fundamental-activity-units">Fundamental Activity Units</h1>

<h2 id="fundamental-activity-unit-creation">Fundamental Activity Unit Creation</h2>

<p>This API is to submit information about a fundamental activity unit that has been completed by a participant.</p>

<p>Only site administrators can access this API.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://yoursite.hfc-staging.com/api/v1/fundamental_activity_units"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">fundamental_activity_unit</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">membership_id</span><span class="se">\"</span><span class="s2">:45,</span><span class="se">\"</span><span class="s2">metadata</span><span class="se">\"</span><span class="s2">: {</span><span class="se">\"</span><span class="s2">foo</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">bar</span><span class="se">\"</span><span class="s2">}}}"</span>
</code></pre>
<blockquote>
<p>Request body example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"fundamental_activity_unit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"foo"</span><span class="p">:</span><span class="s2">"bar"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"foo"</span><span class="p">:</span><span class="s2">"bar"</span><span class="p">},</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-17T12:00:01.299Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-17T12:00:01.299Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://yoursite.hfc-staging.com/api/v1/fundamental_activity_units</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>membership_id</td>
<td>Yes</td>
<td>The membership id of the user who performed the action</td>
</tr>
<tr>
<td>metadata</td>
<td>Yes</td>
<td>A JSON-formatted string describing the action taken by the user</td>
</tr>
</tbody></table>

<h3 id="attribute-descriptions">Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the external prediction</td>
</tr>
<tr>
<td>membership_id</td>
<td>Yes</td>
<td>The membership id of the user who performed the action</td>
</tr>
<tr>
<td>metadata</td>
<td>Yes</td>
<td>A JSON-formatted string describing the action taken by the user</td>
</tr>
</tbody></table>

          <h1 id="memberships">Memberships</h1>

<h2 id="memberships-list">Memberships List</h2>

<p>Each user in Cultivate Forecasts has a single user record &amp; user_id. However, a user can be a member of multiple sites. A membership record associates a user to a site. This endpoint provides a list of membership records for a given site and embeds the user record within each membership.</p>

<p>This endpoint is only accessible to site administrators.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://yoursite.hfc-staging.com/api/v1/memberships"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
<blockquote>
<p>Query Parameters</p>
</blockquote>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>created_before</td>
<td>none</td>
<td>Returns only memberships created before the passed time. Time should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>created_after</td>
<td>none</td>
<td>Returns only memberships created after the passed time. Time should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:34.623Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:34.651Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ident/default_avatars/level-1-1.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:34.524Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-07T00:33:33.969Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"superman"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Clark"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"facebook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.facebook.com/superman"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"twitter_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.twitter.com/superman"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"linkedin_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.linkedin.com/superman"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"blog_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.blog.com/superman"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_pageview_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-07T00:33:33.967Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_prediction_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"He's a superhero"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5298.92"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:34.948Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:37.438Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ident/default_avatars/level-0-1.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user2@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:34.924Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:34.924Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"superman2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Clark"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kent 2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"facebook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.facebook.com/superman2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"twitter_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.twitter.com/superman2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"linkedin_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.linkedin.com/superman2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"blog_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.blog.com/superman2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_pageview_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_prediction_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"He's a superhero2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://yoursite.hfc-staging.com/api/v1/memberships</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>0</td>
<td>Pagination page number</td>
</tr>
<tr>
<td>include_profile_question_responses</td>
<td>false</td>
<td>Passing &ldquo;true&rdquo; for this value will include profile questions and responses for each membership.</td>
</tr>
</tbody></table>

<h3 id="attribute-descriptions">Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the membership</td>
</tr>
<tr>
<td>site_id</td>
<td>integer</td>
<td>The id of the site that this membership belongs to</td>
</tr>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The id of the user that this membership belongs to</td>
</tr>
<tr>
<td>balance</td>
<td>float</td>
<td>The prediction market currency balance of the membership</td>
</tr>
<tr>
<td>level</td>
<td>integer</td>
<td>The user&rsquo;s level. Only applicable in sites that use the user leveling system.</td>
</tr>
<tr>
<td>avatar_url</td>
<td>string</td>
<td>A URL containing an avatar image for the user</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>The role/privileges of the membership. Can be &ldquo;user&rdquo; or &ldquo;admin&rdquo;</td>
</tr>
<tr>
<td>user.id</td>
<td>integer</td>
<td>The id of the user</td>
</tr>
<tr>
<td>user.email</td>
<td>string</td>
<td>The email of the user</td>
</tr>
<tr>
<td>user.username</td>
<td>string</td>
<td>The username of the user</td>
</tr>
<tr>
<td>user.first_name</td>
<td>string</td>
<td>The first name of the user</td>
</tr>
<tr>
<td>user.last_name</td>
<td>string</td>
<td>The last name of the user</td>
</tr>
<tr>
<td>user.facebook_url</td>
<td>string</td>
<td>The url of the facebook profile of the user</td>
</tr>
<tr>
<td>user.twitter_url</td>
<td>string</td>
<td>The url of the twitter profile of the user</td>
</tr>
<tr>
<td>user.linkedin_url</td>
<td>string</td>
<td>The url of the linkedin profile of the user</td>
</tr>
<tr>
<td>user.blog_url</td>
<td>string</td>
<td>The url of the blog of the user</td>
</tr>
<tr>
<td>user.last_pageview_at</td>
<td>date</td>
<td>The timestamp of the user&rsquo;s last pageview</td>
</tr>
<tr>
<td>user.last_prediction_at</td>
<td>date</td>
<td>The timestamp of the user&rsquo;s last forecast</td>
</tr>
<tr>
<td>user.description</td>
<td>string</td>
<td>The user&rsquo;s self-inputted description</td>
</tr>
</tbody></table>

          <h1 id="prediction-sets">Prediction Sets</h1>

<p>A prediction set is the primary model for storing forecasts within Cultivate Forecasts. A prediction set can contain a single prediction or multiple predictions, depending on the question type. In a prediction market, all prediction sets have a single prediction (a trade). In an opinion pool, prediction sets have one prediction for each answer in the question.</p>

<h2 id="prediction-sets-list">Prediction Sets List</h2>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://yoursite.hfc-staging.com/api/v1/prediction_sets"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"prediction_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:37.141Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:37.141Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"comment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rationale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0 - http://www.flyoverworks.com I live in the American Gardens Building on W. 81st Street on the 11th floor. My name is Patrick Bateman. I'm 27 years old. I believe in taking care of myself and a balanced diet and rigorous exercise routine. In the morning if my face is a little puffy I'll put on an ice pack while doing stomach crunches."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"predictions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::PM::LMSR::Trade"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517.6"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">69</span><span class="p">,</span><span class="w">
          </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"filled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:36.913Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:37.147Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"confidence_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confidence_medium"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:40.730Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:40.730Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"comment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rationale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7 -  Well, we have to end apartheid for one. And slow down the nuclear arms race, stop terrorism and world hunger. We have to provide food and shelter for the homeless, and oppose racial discrimination and promote civil rights, while also promoting equal rights for women."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"predictions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"filled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:40.733Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:40.733Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"confidence_level"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"filled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:40.741Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:40.741Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"confidence_level"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"filled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:40.754Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:40.754Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"confidence_level"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://yoursite.hfc-staging.com/api/v1/prediction_sets</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>0</td>
<td>Pagination page number</td>
</tr>
<tr>
<td>membership_id</td>
<td>none</td>
<td>Returns predictions for a single membership id</td>
</tr>
<tr>
<td>question_id</td>
<td>none</td>
<td>Returns predictions for a single membership id</td>
</tr>
<tr>
<td>filter</td>
<td>none</td>
<td>Filters the question list. Possible values: <code class="prettyprint">comments_with_links</code>, <code class="prettyprint">comments_following</code></td>
</tr>
<tr>
<td>created_before</td>
<td>none</td>
<td>Returns only prediction sets created before the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>created_after</td>
<td>none</td>
<td>Returns only prediction sets created after the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
</tbody></table>

<h3 id="attribute-descriptions">Attribute Descriptions</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the prediction set</td>
</tr>
<tr>
<td>membership_id</td>
<td>integer</td>
<td>The id of the membership that submitted the prediction set</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The id of the question that this prediction set belongs to</td>
</tr>
<tr>
<td>rationale</td>
<td>string</td>
<td>The text of the rationale (if any) that the user submitted with the forecast</td>
</tr>
<tr>
<td>predictions.id</td>
<td>integer</td>
<td>The id of the prediction</td>
</tr>
<tr>
<td>predictions.answer_id</td>
<td>integer</td>
<td>The id of the answer this prediction belongs to</td>
</tr>
<tr>
<td>predictions.membership_id</td>
<td>integer</td>
<td>The id of the membership that submitted the prediction</td>
</tr>
<tr>
<td>predictions.filled_at</td>
<td>date</td>
<td>The timestamp of when the prediction was processed. This timestamp is used for scoring</td>
</tr>
<tr>
<td>predictions.refunded_at</td>
<td>date</td>
<td>The timestamp of when the prediction was refunded, if it&rsquo;s a prediction market that has been refunded</td>
</tr>
<tr>
<td>predictions.made_after_correctness_known</td>
<td>boolean</td>
<td>Whether or not the prediction was submitted after the &ldquo;correctness&rdquo; of the answer was already known</td>
</tr>
<tr>
<td>predictions.spend</td>
<td>float</td>
<td>The amount of clinkles the user spent on the trade, if it&rsquo;s in a prediction market</td>
</tr>
<tr>
<td>predictions.quantity</td>
<td>float</td>
<td>The number of shares the user received in the trade, if it&rsquo;s in a prediction market</td>
</tr>
<tr>
<td>predictions.forecasted_probability</td>
<td>float</td>
<td>The probability estimate that the user submitted with the forecast</td>
</tr>
<tr>
<td>predictions.starting_probability</td>
<td>float</td>
<td>The consensus probability of the answer prior to incorporating this forecast</td>
</tr>
<tr>
<td>predictions.final_probability</td>
<td>float</td>
<td>The consensus probability of the answer prior to incorporating this forecast</td>
</tr>
<tr>
<td>predictions.starting_price</td>
<td>float</td>
<td>The price of the answer prior to incorporating this forecast (only applicable to prediction markets)</td>
</tr>
<tr>
<td>predictions.final_price</td>
<td>float</td>
<td>The price of the answer prior to incorporating this forecast (only applicable to prediction markets)</td>
</tr>
</tbody></table>

<h2 id="prediction-set-creation">Prediction Set Creation</h2>

<p>All predictions are part of a prediction set. In the case of a prediction market, the prediction set will have a single prediction (aka. a trade), while an opinion pool question will have multiple predictions as part of a single prediction set (one for each answer in the question).</p>

<p>This endpoint can be used to submit new prediction sets. All prediction sets require a question id as part of the URL and must include parameters for the prediction set. See below for a list of required parameters. All parameters must be nested under a &ldquo;prediction_set&rdquo; key (see example request body below).</p>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://yoursite.hfc-staging.com/api/v1/questions/1/prediction_sets"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">prediction_set</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">rationale</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">I think this is a great forecast</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">predictions_attributes</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">spend</span><span class="se">\"</span><span class="s2">:-595.9105910591059,</span><span class="se">\"</span><span class="s2">forecasted_probability</span><span class="se">\"</span><span class="s2">:0.2,</span><span class="se">\"</span><span class="s2">answer_id</span><span class="se">\"</span><span class="s2">:78}]}}"</span>
</code></pre>
<blockquote>
<p>Request body example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"prediction_set"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"rationale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my rationale"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"predictions_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"spend"</span><span class="p">:</span><span class="w"> </span><span class="mf">-595.91</span><span class="p">,</span><span class="w">
        </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response:</p>
</blockquote>

<p>The response contains the newly created prediction set and associated prediction(s).</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="s2">"membership_username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"superman7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lmsr_exclusive_market-8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-22T21:27:24.419Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-22T21:27:24.419Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rationale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my rationale"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="s2">"predictions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::PM::LMSR::Trade"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-78"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="s2">"filled_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-22T21:27:24.428Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-22T21:27:24.428Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-22T21:27:24.428Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"confidence_level"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"made_after_correctness_known"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"spend"</span><span class="p">:</span><span class="w"> </span><span class="mf">-595.91</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">-8.6919</span><span class="p">,</span><span class="w">
      </span><span class="s2">"forecasted_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"starting_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3333</span><span class="p">,</span><span class="w">
      </span><span class="s2">"final_probability"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"starting_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3333</span><span class="p">,</span><span class="w">
      </span><span class="s2">"final_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2959</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://yoursite.hfc-staging.com/api/v1/question/:question_id/prediction_sets</code></p>

<h3 id="prediction-set-parameters">Prediction Set Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rationale</td>
<td>Configurable per site</td>
<td>Contains the rationale/explanation/comment for why the user is making this forecast.</td>
</tr>
<tr>
<td>predictions_attributes</td>
<td>Yes</td>
<td>An array of prediction objects that are part of this prediction set. Valid parameters for a prediction are listed below.</td>
</tr>
</tbody></table>

<h3 id="prediction-parameters">Prediction Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>answer_id</td>
<td>Yes</td>
<td>The answer id on which the user is forecasting.</td>
</tr>
<tr>
<td>forecasted_probability</td>
<td>Yes</td>
<td>The probability assigned to this answer by the user. Should be a float between 0 and 1.</td>
</tr>
<tr>
<td>spend</td>
<td>Only if the question is a prediction market</td>
<td>The amount of clinkles to buy/sell as part of this prediction/trade. A positive value indicates a buy, while a negative value indicates a sell/short.</td>
</tr>
</tbody></table>

          <h1 id="questions">Questions</h1>

<h2 id="questions-list">Questions List</h2>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://yoursite.hfc-staging.com/api/v1/questions"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer b95b4f848cd226e55b7a42f6a8e8669350730270f5a91d64b6c70328b0156d75"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"questions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"question-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Question"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-15T00:21:35.906Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"question-desc-5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"published_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"starts_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"predictions_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"comments_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.910Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.910Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active?"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resolved?"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use_ordinal_scoring"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.918Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-04T00:21:35.916Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-11"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"outstanding"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"positions_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"predictions_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.33%"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"correctness_known_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.918Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.927Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-04T00:21:35.925Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-12"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"outstanding"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"positions_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"predictions_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.33%"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"correctness_known_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.927Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.933Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-04T00:21:35.931Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-13"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"outstanding"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"positions_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"predictions_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3333"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.33%"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"correctness_known_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.933Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"binary_question-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Binary::Question"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-15T00:21:35.945Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"question-desc-6"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"published_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"starts_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"predictions_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"comments_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.953Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.953Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active?"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resolved?"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use_ordinal_scoring"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.965Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-04T00:21:35.962Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="s2">"membership_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer-name-14"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"outstanding"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"positions_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"predictions_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"probability_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00%"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"question_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"refunded_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resolved_by_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"correctness_known_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::Binary::Answer"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-04T00:21:35.965Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://yoursite.hfc-staging.com/api/v1/questions</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>0</td>
<td>Pagination page number</td>
</tr>
<tr>
<td>tags</td>
<td>none</td>
<td>A comma separated list of tags to filter by (e.g. &ldquo;sports,politics,tech&rdquo;)</td>
</tr>
<tr>
<td>challenges</td>
<td>none</td>
<td>A comma separated list of challenge ids to filter by (e.g. &ldquo;1,5,8&rdquo;). Will return only questions in those challenges. Operates as a logical AND (ie. if you pass &ldquo;1,5&rdquo;, it will return only questions that are in both challenges)</td>
</tr>
<tr>
<td>filter</td>
<td>none</td>
<td>A filter to apply to the question list. Possible values: <code class="prettyprint">starred</code>, <code class="prettyprint">featured</code>. By default, no filter is applied.</td>
</tr>
<tr>
<td>status</td>
<td>active</td>
<td>A question status filter to apply to the question list. Possible values: <code class="prettyprint">closed</code>, <code class="prettyprint">all</code>. If this value is omitted, only active questions are returned. To include all questions, you should pass <code class="prettyprint">all</code> for this value.</td>
</tr>
<tr>
<td>sort</td>
<td>published_at</td>
<td>Sort order for the questions. Possible values: <code class="prettyprint">published_at</code>, <code class="prettyprint">ends_at</code>, <code class="prettyprint">resolved_at</code>, <code class="prettyprint">prediction_sets_count</code></td>
</tr>
<tr>
<td>created_before</td>
<td>none</td>
<td>Returns only questions created before the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>created_after</td>
<td>none</td>
<td>Returns only questions created after the passed date. Date should be in iso8601 format (e.g. 2015-08-23T15:43:11-05:00)</td>
</tr>
<tr>
<td>include_tag_ids</td>
<td>false</td>
<td>Passing &ldquo;true&rdquo; for this value will include an array of tag ids for the question.</td>
</tr>
<tr>
<td>include_challenge_ids</td>
<td>false</td>
<td>Passing &ldquo;true&rdquo; for this value will include an array of challenge ids for the question.</td>
</tr>
</tbody></table>

<h3 id="question-attributes">Question Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the question</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The question content</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The internal question type (e.g. prediction market, binary prediction market, opinion pool)</td>
</tr>
<tr>
<td>site_id</td>
<td>integer</td>
<td>The id of the site that this question belongs to</td>
</tr>
<tr>
<td>membership_id</td>
<td>integer</td>
<td>The id of the membership who created this question</td>
</tr>
<tr>
<td>ends_at</td>
<td>datetime</td>
<td>The date &amp; time that this question stops accepting forecasts</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>The description &amp; background information for the question</td>
</tr>
<tr>
<td>published_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was published</td>
</tr>
<tr>
<td>starts_at</td>
<td>datetime</td>
<td>The date &amp; time that this question started accepting forecasts</td>
</tr>
<tr>
<td>resolved_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was resolved</td>
</tr>
<tr>
<td>predictions_count</td>
<td>integer</td>
<td>The number of predictions that have been made in this question</td>
</tr>
<tr>
<td>comments_count</td>
<td>integer</td>
<td>The number of comments that have been made in this question</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>The date &amp; time that this question was last updated</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Whether or not this question is currently active for forecasting</td>
</tr>
<tr>
<td>resolved</td>
<td>boolean</td>
<td>Whether or not this question has been resolved</td>
</tr>
<tr>
<td>use_ordinal_scoring</td>
<td>boolean</td>
<td>Whether or not this question uses ordinal scoring for calculating Brier scores</td>
</tr>
</tbody></table>

<h3 id="answer-attributes">Answer Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the answer</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The date &amp; time that this answer was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>The date &amp; time that this answer was last updated</td>
</tr>
<tr>
<td>ends_at</td>
<td>datetime</td>
<td>The date &amp; time that this answer stops accepting forecasts</td>
</tr>
<tr>
<td>membership_id</td>
<td>integer</td>
<td>The id of the membership who created this answer</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The answer content</td>
</tr>
<tr>
<td>outstanding</td>
<td>integer</td>
<td>If this question is a prediction market, this represents the number of outstanding shares in this stock</td>
</tr>
<tr>
<td>positions_count</td>
<td>integer</td>
<td>The number of positions forecasters have taken in this answer</td>
</tr>
<tr>
<td>predictions_count</td>
<td>integer</td>
<td>The number of predictions forecasters have made in this answer</td>
</tr>
<tr>
<td>probability</td>
<td>float</td>
<td>The current consensus probability for this answer</td>
</tr>
<tr>
<td>probability_formatted</td>
<td>string</td>
<td>The current consensus probability for this answer, formatted as a percentage</td>
</tr>
<tr>
<td>question_id</td>
<td>integer</td>
<td>The id of the question that this answer belongs to</td>
</tr>
<tr>
<td>refunded_at</td>
<td>datetime</td>
<td>If this question is a prediction market and this stock has been refunded, the date &amp; time the refund occurred</td>
</tr>
<tr>
<td>refunded_by_id</td>
<td>integer</td>
<td>The membership_id of the membership who refunded this stock</td>
</tr>
<tr>
<td>resolved_at</td>
<td>datetime</td>
<td>The date &amp; time that this answer was resolved</td>
</tr>
<tr>
<td>resolved_by_id</td>
<td>integer</td>
<td>The memebership_id of the membership who resolved this answer</td>
</tr>
<tr>
<td>correctness_known_at</td>
<td>datetime</td>
<td>The date &amp; time that the correctness of this answer was known. If an administrator sets this value when resolving the answer, all forecasts made after it will be invalidated.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The internal answer type (e.g. prediction market stock, opinion pool answer)</td>
</tr>
</tbody></table>

<h2 id="questions-creation-and-updating">Questions Creation and Updating</h2>

<blockquote>
<p>HTTP Request:</p>
</blockquote>

<p><code class="prettyprint">POST https://yoursite.hfc-staging.com/api/v1/questions</code>
<code class="prettyprint">PATCH https://yoursite.hfc-staging.com/api/v1/questions/:id</code></p>

<blockquote>
<p>Request body example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How many tournaments will Tiger win this year?"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This question includes only major tournaments"</span><span class="w">
    </span><span class="s2">"ends_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31T23:59:59Z"</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forecast::PM::LMSR::ExclusiveMarket"</span><span class="w">
    </span><span class="s2">"answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"probability_whole_number"</span><span class="p">:</span><span class="w"> </span><span class="mf">47.5</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"probability_whole_number"</span><span class="p">:</span><span class="w"> </span><span class="mf">22.5</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6 or more"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"probability_whole_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="question-parameters">Question Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name of the question</td>
</tr>
<tr>
<td>description</td>
<td>Yes</td>
<td>Background information, displays below the question name</td>
</tr>
<tr>
<td>links_attributes</td>
<td>No</td>
<td>An array of links to display below the question name. Valid parameters for links are listed below.</td>
</tr>
<tr>
<td>starts_at</td>
<td>No</td>
<td>The time at which the question begins accepting forecasts</td>
</tr>
<tr>
<td>ends_at</td>
<td>Yes</td>
<td>The time at which the question stops accepting forecasts</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Valid question types are listed below &ndash; note that some question types are disabled on some sites</td>
</tr>
<tr>
<td>intro</td>
<td>No</td>
<td>An introduction that appears before the question name. eg &ldquo;Sponsor XYZ presents:&rdquo;</td>
</tr>
<tr>
<td>use_ordinal_scoring</td>
<td>No</td>
<td>An optional scoring setting for questions with sequential answers</td>
</tr>
<tr>
<td>rolling_range_count</td>
<td>No</td>
<td>For rolling questions, the number of answers active at a given time</td>
</tr>
<tr>
<td>rolling_time_length</td>
<td>No</td>
<td>For rolling questions, the number of time units allotted to each answer (eg 2 for two weeks, 4 for four years)</td>
</tr>
<tr>
<td>rolling_time_unit</td>
<td>No</td>
<td>For rolling questions, the unit of time for each answer. Options: &ldquo;day&rdquo;, &ldquo;week&rdquo;, &ldquo;month&rdquo;, &ldquo;year&rdquo;</td>
</tr>
<tr>
<td>roll_percentage</td>
<td>No</td>
<td>For rolling questions, the percentage of the probability assigned to the last bucket (eg 2020 or later) that will be transfered to the newly created bucket (2021 or later). The remainder will be assigned to the second last bucket (2020)</td>
</tr>
<tr>
<td>tag_list</td>
<td>No</td>
<td>An array containing the names of tags to be assigned to this question</td>
</tr>
<tr>
<td>challenge_ids</td>
<td>No</td>
<td>An array containing ids of challenges to be assigned to this question</td>
</tr>
<tr>
<td>answers_attributes</td>
<td>Yes</td>
<td>A hash of answer objects that are part of this question. Valid parameters for answers are listed below.</td>
</tr>
<tr>
<td>suspended</td>
<td>No</td>
<td>If selected, the question is suspended and does not accept new forecasts</td>
</tr>
</tbody></table>

<h3 id="answer-parameters">Answer Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name of the answer</td>
</tr>
<tr>
<td>probability_whole_number</td>
<td>Yes</td>
<td>The starting probability of the answer</td>
</tr>
<tr>
<td>sort_order</td>
<td>No</td>
<td>The order in which this answer is displayed</td>
</tr>
<tr>
<td>id</td>
<td>No</td>
<td>The unique id of the answer&ndash;use only for updating</td>
</tr>
<tr>
<td>discover_answer_id</td>
<td>No</td>
<td>For questions created via Discover, the id of the Discover answer that corresponds to this answer</td>
</tr>
<tr>
<td>_destroy</td>
<td>No</td>
<td>Set to &ldquo;true&rdquo; to destroy this answer</td>
</tr>
</tbody></table>

<h3 id="link-parameters">Link Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The unique id of the link&ndash;use only for updating</td>
</tr>
<tr>
<td>url</td>
<td>The url address of this link</td>
</tr>
<tr>
<td>description</td>
<td>The text that displays for this link</td>
</tr>
<tr>
<td>_destroy</td>
<td>Set to &ldquo;true&rdquo; to destroy this link</td>
</tr>
</tbody></table>

<h3 id="question-types">Question Types</h3>

<table><thead>
<tr>
<th>Question Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>&ldquo;Forecast::Question&rdquo;</td>
<td>A multi-answer prediction pool</td>
</tr>
<tr>
<td>&ldquo;Forecast::Binary::Question&rdquo;</td>
<td>A prediction pool with only one answer (eg Yes/No)</td>
</tr>
<tr>
<td>&ldquo;Forecast::RollingQuestion&rdquo;</td>
<td>A rolling prediction pool, with new answers appearing over time</td>
</tr>
<tr>
<td>&ldquo;Forecast::PM::LMSR::ExclusiveMarket&rdquo;</td>
<td>A multi-answer prediction market with one correct answer</td>
</tr>
<tr>
<td>&ldquo;Forecast::PM::LMSR::NonExclusiveMarket&rdquo;</td>
<td>A multi-answer prediction market that allows multiple correct answers</td>
</tr>
<tr>
<td>&ldquo;Forecast::PM::LMSR::BinaryMarket&rdquo;</td>
<td>A prediction market with only one answer</td>
</tr>
<tr>
<td>&ldquo;Forecast::PM::LMSR::RollingMarket&rdquo;</td>
<td>A rolling prediction market, with new answers appearing over time</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
